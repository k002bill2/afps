# State Check Grader Test Task
# Validates state_check grader functionality with file verification

id: task_state_001
name: "State Check 그레이더 파일 검증 테스트"
category: test
difficulty: simple

input:
  description: |
    이 태스크는 state_check 그레이더의 파일 검증 기능을 테스트합니다.

    **목적**: 기존 파일의 상태를 검증하여 그레이더가 올바르게 작동하는지 확인

    실제 코드 작성이 아닌, 그레이더 기능 검증용 태스크입니다.
  requirements:
    - "기존 LoadingScreen 컴포넌트 파일 검증"
    - "파일 존재 여부 확인"
    - "필수 패턴 포함 확인 (React, export)"
    - "금지 패턴 부재 확인 (any 타입)"
    - "최소 라인 수 확인"
  reference_files:
    - "src/components/common/LoadingScreen.tsx"
  context: |
    이 태스크는 에이전트가 실제로 수행하는 것이 아니라,
    state_check 그레이더의 검증 로직을 테스트하기 위한 것입니다.

    테스트 항목:
    1. exists: true → 파일이 존재하는가?
    2. contains → 필수 패턴이 있는가?
    3. not_contains → 금지 패턴이 없는가?
    4. min_lines → 최소 라인 수를 충족하는가?

success_criteria:
  required:
    file_exists: true
    contains_react: true
    no_any_types: true
    min_lines_met: true
  optional:
    has_typescript_types: true

# State Check 그레이더만 사용 (핵심 테스트)
graders:
  - type: state_check
    weight: 1.0
    expect:
      files:
        # 실제 존재하는 파일로 테스트
        "src/components/common/LoadingScreen.tsx":
          exists: true
          contains:
            - "React"
            - "export"
            - "View"
          not_contains:
            - ": any"
            - "// @ts-ignore"
            - "// @ts-nocheck"
          min_lines: 30

        # 존재하지 않는 파일 테스트 (exists: false 기대)
        "src/components/common/NonExistent.tsx":
          exists: false

        # 또 다른 실제 파일
        "src/components/common/ErrorBoundary.tsx":
          exists: true
          contains:
            - "Component"
            - "catch"
          min_lines: 20

max_attempts: 1
timeout_minutes: 5
tags:
  - test
  - grader
  - state-check
  - validation
expected_agent: eval-grader

# 이 태스크는 에이전트 실행 없이 그레이더만 테스트
# /run-eval --task=task_state_001 --grader-only
